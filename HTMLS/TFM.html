<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>LOOKBOOK 1 - Fotos/Vídeos</title>
<style>
  :root{ --gap:1rem; --card-w:220px; }
  body{
    margin:0; padding:2rem; font-family:Arial,Helvetica,sans-serif;
    background:url('cemento.jpg') no-repeat center center fixed; background-size:cover;
    display:flex; justify-content:center; cursor:none;
  }
  #cursor{ position:fixed; width:40px; height:40px; pointer-events:none; transform:translate(-50%,-50%); z-index:1000; }
  .flecha-back{
    position:fixed; top:20px; left:20px; width:50px; height:50px; border-radius:50%;
    background:rgba(0,0,0,.6); color:#fff; font-size:2rem; line-height:50px; text-align:center; text-decoration:none;
    z-index:1001; transition:transform .2s, background .3s;
  }
  .flecha-back:hover{ transform:scale(1.1); background:rgba(0,0,0,.8); }

  .grid{ display:grid; grid-template-columns:repeat(3,minmax(0,auto)); gap:var(--gap); justify-items:center; align-items:start; }
  @media (max-width:980px){ .grid{ grid-template-columns:repeat(2,minmax(0,auto)); } }
  @media (max-width:640px){ body{ padding:1rem; } .grid{ grid-template-columns:1fr; } }

  .item{ transition:transform .3s, box-shadow .3s; will-change:transform; }
  .item:hover{ transform:scale(1.05); box-shadow:0 10px 20px rgba(0,0,0,.4); }
  .frame{ max-width:var(--card-w); border:4px solid #fff; box-shadow:0 4px 12px rgba(0,0,0,.3); display:block; background:#fff; overflow:hidden; }
  .frame img,.frame video{ display:block; width:100%; height:auto; object-fit:contain; aspect-ratio:3/4; background:#fff; }

  .lightbox{
    position:fixed; inset:0; background:rgba(0,0,0,.85); display:flex; justify-content:center; align-items:center;
    opacity:0; visibility:hidden; transition:opacity .3s ease; z-index:999;
  }
  .lightbox.active{ opacity:1; visibility:visible; }
  .lightbox-inner{ max-width:90vw; max-height:90vh; display:flex; align-items:center; justify-content:center; }
  .lightbox img,.lightbox video{
    max-width:90vw; max-height:90vh; object-fit:contain; border:6px solid #fff; box-shadow:0 6px 20px rgba(0,0,0,.5);
    transition:opacity .3s ease; background:#000;
  }
  .cerrar,.prev,.next{
    position:absolute; font-size:2rem; color:#fff; background:rgba(0,0,0,.3);
    padding:.2em .6em; border-radius:50%; cursor:pointer; user-select:none; transition:background .3s, color .3s;
  }
  .cerrar:hover,.prev:hover,.next:hover{ background:rgba(0,0,0,.6); }
  .cerrar{ top:20px; right:20px; } 
  .prev{ left:20px; top:50%; transform:translateY(-50%); font-size:3rem; }
  .next{ right:20px; top:50%; transform:translateY(-50%); font-size:3rem; }
  .lightbox-bg{ position:absolute; inset:0; }
</style>
</head>
<body>

  <img src="mariposa_cursor.png" id="cursor" alt="cursor" />
  <!-- Flecha de volver en la página normal -->
  <a href="fashion.html" class="flecha-back" id="flechaBack" aria-label="Volver">←</a>

 <div class="grid" id="grid">
  <!-- Tus items (imágenes y videos) aquí -->
  <div class="item" data-type="image" data-src="formal1.jpg">
    <span class="frame"><img src="formal1.jpg" alt="formal1"></span>
  </div>
  <div class="item" data-type="video" data-src="video1formal.mp4">
    <span class="frame"><video src="video1formal.mp4" muted loop playsinline autoplay></video></span>
  </div>
  <div class="item" data-type="image" data-src="formal3.jpg">
    <span class="frame"><img src="formal3.jpg" alt="formal3"></span>
  </div>
  <div class="item" data-type="image" data-src="formal5.jpeg">
    <span class="frame"><img src="formal5.jpeg" alt="formal5"></span>
  </div>
  <div class="item" data-type="video" data-src="video2formal.mp4">
    <span class="frame"><video src="video2formal.mp4" muted loop playsinline autoplay></video></span>
  </div>
  <div class="item" data-type="image" data-src="formal6.jpeg">
    <span class="frame"><img src="formal6.jpeg" alt="formal6"></span>
  </div>
  <div class="item" data-type="image" data-src="formal9.jpeg">
    <span class="frame"><img src="formal9.jpeg" alt="formal7"></span>
  </div>
  <div class="item" data-type="video" data-src="video3formal.mp4">
    <span class="frame"><video src="video3formal.mp4" muted loop playsinline autoplay></video></span>
  </div>
  <div class="item" data-type="image" data-src="formal8.jpeg">
    <span class="frame"><img src="formal8.jpeg" alt="formal8"></span>
  </div>
  <!-- Añade los demás items según tu lista -->
</div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-bg" data-close></div>
    <span class="cerrar" title="Cerrar" data-close>×</span>
    <span class="prev" title="Anterior">‹</span>
    <div class="lightbox-inner">
      <img id="lbImg" src="" alt="" style="display:none; opacity:0;">
      <video id="lbVideo" src="" controls style="display:none; opacity:0;" playsinline></video>
    </div>
    <span class="next" title="Siguiente">›</span>
  </div>

<script>
  // Cursor
  const cursor = document.getElementById('cursor');
  document.addEventListener('mousemove', e=>{
    cursor.style.left = e.clientX + 'px';
    cursor.style.top  = e.clientY + 'px';
  });

  // Lightbox
  const lightbox = document.getElementById('lightbox');
  const lbImg = document.getElementById('lbImg');
  const lbVideo = document.getElementById('lbVideo');
  const btnPrev = lightbox.querySelector('.prev');
  const btnNext = lightbox.querySelector('.next');
  const flechaBack = document.getElementById('flechaBack');

  const items = Array.from(document.querySelectorAll('.grid .item'));
  let currentIndex = 0;

  function openItem(index){
    currentIndex = (index + items.length) % items.length;
    const el = items[currentIndex];
    const type = el.dataset.type;
    const src  = el.dataset.src;

    lbImg.style.opacity = 0; lbVideo.style.opacity = 0;
    lbVideo.pause();

    if(type === 'image'){
      lbVideo.style.display = 'none';
      lbImg.style.display = 'block';
      lbImg.src = src;
      requestAnimationFrame(()=>{ lbImg.style.opacity = 1; });
    }else{
      lbImg.style.display = 'none';
      lbVideo.style.display = 'block';
      lbVideo.src = src;
      lbVideo.play().catch(()=>{});
      requestAnimationFrame(()=>{ lbVideo.style.opacity = 1; });
    }

    lightbox.classList.add('active');
    lightbox.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';

    // No usar la flecha "volver atrás" dentro del lightbox
    // flechaBack.style.display = 'none'; // opcional si quieres ocultarla dentro
  }

  function closeLightbox(){
    lightbox.classList.remove('active');
    lightbox.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
    lbVideo.pause();

    // flechaBack.style.display = 'block'; // opcional si se ocultó
  }

  function showPrev(){ openItem(currentIndex - 1); }
  function showNext(){ openItem(currentIndex + 1); }

  items.forEach((el,i)=> el.addEventListener('click', ()=>openItem(i)));
  lightbox.querySelectorAll('[data-close]').forEach(el=> el.addEventListener('click', closeLightbox));
  btnPrev.addEventListener('click', showPrev);
  btnNext.addEventListener('click', showNext);

  document.addEventListener('keydown', e=>{
    if(!lightbox.classList.contains('active')) return;
    if(e.key === 'ArrowRight') showNext();
    else if(e.key === 'ArrowLeft') showPrev();
    else if(e.key === 'Escape') closeLightbox();
  });

  document.querySelector('.lightbox-inner').addEventListener('click', e=> e.stopPropagation());
</script>
</body>
</html>
